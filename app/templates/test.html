<!DOCTYPE html>
<meta charset="utf-8">
<style> /* set the CSS */

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 2px;
}

div.tooltip {
  position: absolute;
  text-align: center;
  width: 100px;
  height: 28px;
  padding: 2px;
  font: 12px sans-serif;
  background: lightsteelblue;
  border: 0px;
  border-radius: 8px;
  pointer-events: none;
}

</style>
<body>

<!-- load the d3.js library -->    	
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

// set the dimensions and margins of the graph
var margin = {top: 20, right: 20, bottom: 70, left: 50},
    width = 360 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;

// Functions to parse timestamps
var parseTime = d3.utcParse("%Y-%m-%dT%H:%M:%S");

// set the ranges
var x = d3.scaleTime().range([0, width]);
var y = d3.scaleLinear().range([height, 0]);

// define the line
var valueline = d3.line()
    .x(function(d) { return x(parseTime(d.date)); })
    .y(function(d) { return y(d.close); });
	
var div = d3.select("body").append("div")
    .attr("class", "tooltip")
    .style("opacity", 0);

// append the svg obgect to the body of the page
// appends a 'group' element to 'svg'
// moves the 'group' element to the top left margin
var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");

// Get the data
  var data = [{"close": 749.7800000000001, "date": "2018-03-30T00:00:00"}, {"close": 782.5200000000001, "date": "2018-03-29T00:00:00"}, {"close": 749.4100000000001, "date": "2018-03-29T00:00:00"}, {"close": 750.1600000000001, "date": "2018-03-28T00:00:00"}, {"close": 750.96, "date": "2018-03-28T00:00:00"}, {"close": 20750.96, "date": "2018-03-27T00:00:00"}, {"close": 20755.379999999997, "date": "2018-03-27T00:00:00"}, {"close": 20772.979999999996, "date": "2018-03-26T00:00:00"}, {"close": 20787.439999999995, "date": "2018-03-26T00:00:00"}, {"close": 21510.499999999996, "date": "2018-03-26T00:00:00"}, {"close": 21534.599999999995, "date": "2018-03-26T00:00:00"}, {"close": 31534.599999999995, "date": "2018-03-26T00:00:00"}, {"close": 1534.599999999995, "date": "2018-03-26T00:00:00"}, {"close": 1541.4499999999948, "date": "2018-03-24T00:00:00"}, {"close": 1544.5499999999947, "date": "2018-03-24T00:00:00"}, {"close": 1556.2199999999948, "date": "2018-03-23T00:00:00"}, {"close": 1560.7699999999948, "date": "2018-03-22T00:00:00"}, {"close": 1565.2099999999948, "date": "2018-03-22T00:00:00"}, {"close": 1566.0099999999948, "date": "2018-03-22T00:00:00"}, {"close": 1611.8999999999949, "date": "2018-03-22T00:00:00"}, {"close": 1619.7099999999948, "date": "2018-03-22T00:00:00"}, {"close": 1653.109999999995, "date": "2018-03-20T00:00:00"}, {"close": 1653.809999999995, "date": "2018-03-20T00:00:00"}, {"close": 1654.609999999995, "date": "2018-03-20T00:00:00"}, {"close": 1697.989999999995, "date": "2018-03-19T00:00:00"}, {"close": 1701.939999999995, "date": "2018-03-17T00:00:00"}, {"close": 1708.789999999995, "date": "2018-03-17T00:00:00"}, {"close": 1709.589999999995, "date": "2018-03-17T00:00:00"}, {"close": 1710.3899999999949, "date": "2018-03-15T00:00:00"}, {"close": 1710.869999999995, "date": "2018-03-15T00:00:00"}, {"close": 1754.869999999995, "date": "2018-03-15T00:00:00"}, {"close": 1789.869999999995, "date": "2018-03-15T00:00:00"}, {"close": 1791.6699999999948, "date": "2018-03-15T00:00:00"}, {"close": 1795.4699999999948, "date": "2018-03-14T00:00:00"}, {"close": 1797.4699999999948, "date": "2018-03-14T00:00:00"}, {"close": 1798.1699999999948, "date": "2018-03-14T00:00:00"}, {"close": 598.1699999999948, "date": "2018-03-14T00:00:00"}, {"close": 602.4299999999948, "date": "2018-03-13T00:00:00"}, {"close": 605.5299999999949, "date": "2018-03-13T00:00:00"}, {"close": 607.4799999999949, "date": "2018-03-13T00:00:00"}, {"close": 728.5899999999949, "date": "2018-03-12T00:00:00"}, {"close": 772.9699999999949, "date": "2018-03-12T00:00:00"}, {"close": 797.2099999999949, "date": "2018-03-12T00:00:00"}, {"close": 798.2599999999949, "date": "2018-03-12T00:00:00"}, {"close": 808.7399999999949, "date": "2018-03-12T00:00:00"}, {"close": 811.3899999999949, "date": "2018-03-12T00:00:00"}, {"close": 812.8799999999949, "date": "2018-03-12T00:00:00"}, {"close": 815.4699999999949, "date": "2018-03-10T00:00:00"}, {"close": 824.0699999999949, "date": "2018-03-09T00:00:00"}, {"close": 1214.069999999995, "date": "2018-03-08T00:00:00"}, {"close": 1218.4199999999948, "date": "2018-03-08T00:00:00"}, {"close": 1220.119999999995, "date": "2018-03-08T00:00:00"}, {"close": 1220.9199999999948, "date": "2018-03-08T00:00:00"}, {"close": 1221.6699999999948, "date": "2018-03-08T00:00:00"}, {"close": 1230.2599999999948, "date": "2018-03-08T00:00:00"}, {"close": 1233.3299999999947, "date": "2018-03-08T00:00:00"}, {"close": 244.9499999999947, "date": "2018-03-08T00:00:00"}, {"close": 248.6499999999947, "date": "2018-03-07T00:00:00"}, {"close": 250.2999999999947, "date": "2018-03-07T00:00:00"}, {"close": 590.2999999999947, "date": "2018-03-07T00:00:00"}, {"close": 597.1499999999947, "date": "2018-03-06T00:00:00"}, {"close": 601.1799999999947, "date": "2018-03-06T00:00:00"}, {"close": 651.9299999999947, "date": "2018-03-05T00:00:00"}, {"close": 659.7799999999947, "date": "2018-03-05T00:00:00"}, {"close": 664.6799999999947, "date": "2018-03-05T00:00:00"}, {"close": 671.8399999999947, "date": "2018-03-05T00:00:00"}, {"close": 673.3399999999947, "date": "2018-03-05T00:00:00"}, {"close": 711.3399999999947, "date": "2018-03-03T00:00:00"}, {"close": 719.8899999999946, "date": "2018-03-03T00:00:00"}, {"close": 725.8899999999946, "date": "2018-03-02T00:00:00"}, {"close": 735.8899999999946, "date": "2018-03-02T00:00:00"}, {"close": 835.8899999999946, "date": "2018-03-02T00:00:00"}, {"close": 839.8199999999946, "date": "2018-03-01T00:00:00"}, {"close": 841.5199999999946, "date": "2018-03-01T00:00:00"}, {"close": 842.2699999999946, "date": "2018-03-01T00:00:00"}, {"close": 843.0699999999946, "date": "2018-03-01T00:00:00"}, {"close": 843.8699999999945, "date": "2018-03-01T00:00:00"}, {"close": 844.6199999999945, "date": "2018-03-01T00:00:00"}, {"close": 868.1399999999945, "date": "2018-03-01T00:00:00"}, {"close": 868.8399999999946, "date": "2018-03-01T00:00:00"}, {"close": 869.6399999999945, "date": "2018-03-01T00:00:00"}, {"close": 875.5899999999946, "date": "2018-02-28T00:00:00"}, {"close": 125.1899999999946, "date": "2018-02-28T00:00:00"}, {"close": 95.28999999999459, "date": "2018-02-28T00:00:00"}, {"close": 95.9899999999946, "date": "2018-02-28T00:00:00"}, {"close": 96.78999999999459, "date": "2018-02-28T00:00:00"}, {"close": 104.7399999999946, "date": "2018-02-27T00:00:00"}, {"close": 184.7399999999946, "date": "2018-02-26T00:00:00"}, {"close": 189.3399999999946, "date": "2018-02-26T00:00:00"}, {"close": 190.9399999999946, "date": "2018-02-26T00:00:00"}, {"close": 234.5999999999946, "date": "2018-02-26T00:00:00"}, {"close": 242.5999999999946, "date": "2018-02-26T00:00:00"}, {"close": 247.1999999999946, "date": "2018-02-24T00:00:00"}, {"close": 254.7499999999946, "date": "2018-02-24T00:00:00"}, {"close": 302.9499999999946, "date": "2018-02-24T00:00:00"}, {"close": 303.7499999999946, "date": "2018-02-24T00:00:00"}, {"close": 320.27999999999463, "date": "2018-02-22T00:00:00"}, {"close": 321.07999999999464, "date": "2018-02-22T00:00:00"}, {"close": 321.77999999999463, "date": "2018-02-22T00:00:00"}, {"close": 328.62999999999465, "date": "2018-02-21T00:00:00"}, {"close": 329.32999999999464, "date": "2018-02-21T00:00:00"}, {"close": 336.17999999999466, "date": "2018-02-20T00:00:00"}, {"close": 336.9799999999947, "date": "2018-02-20T00:00:00"}, {"close": 563.2799999999947, "date": "2018-02-19T00:00:00"}, {"close": 583.5499999999947, "date": "2018-02-19T00:00:00"}, {"close": 586.4999999999948, "date": "2018-02-17T00:00:00"}, {"close": 587.1999999999948, "date": "2018-02-17T00:00:00"}, {"close": 587.8999999999949, "date": "2018-02-17T00:00:00"}, {"close": 594.7499999999949, "date": "2018-02-17T00:00:00"}, {"close": 601.5999999999949, "date": "2018-02-16T00:00:00"}, {"close": 607.6999999999949, "date": "2018-02-16T00:00:00"}, {"close": 757.6999999999949, "date": "2018-02-16T00:00:00"}, {"close": 765.049999999995, "date": "2018-02-15T00:00:00"}, {"close": 768.9499999999949, "date": "2018-02-15T00:00:00"}, {"close": 812.9499999999949, "date": "2018-02-15T00:00:00"}, {"close": 847.9499999999949, "date": "2018-02-15T00:00:00"}, {"close": 977.9499999999949, "date": "2018-02-15T00:00:00"}, {"close": 978.649999999995, "date": "2018-02-14T00:00:00"}, {"close": 985.349999999995, "date": "2018-02-14T00:00:00"}, {"close": 989.249999999995, "date": "2018-02-13T00:00:00"}, {"close": 989.949999999995, "date": "2018-02-13T00:00:00"}, {"close": 1079.949999999995, "date": "2018-02-12T00:00:00"}, {"close": 1081.129999999995, "date": "2018-02-12T00:00:00"}, {"close": 481.1299999999951, "date": "2018-02-12T00:00:00"}, {"close": 482.6299999999951, "date": "2018-02-12T00:00:00"}, {"close": 488.72999999999513, "date": "2018-02-10T00:00:00"}, {"close": 489.47999999999513, "date": "2018-02-10T00:00:00"}, {"close": 490.1799999999951, "date": "2018-02-10T00:00:00"}, {"close": 490.8299999999951, "date": "2018-02-10T00:00:00"}, {"close": 491.5299999999951, "date": "2018-02-10T00:00:00"}, {"close": 499.42999999999506, "date": "2018-02-09T00:00:00"}, {"close": 503.7799999999951, "date": "2018-02-08T00:00:00"}, {"close": 504.5299999999951, "date": "2018-02-08T00:00:00"}, {"close": 505.17999999999506, "date": "2018-02-08T00:00:00"}, {"close": 505.82999999999504, "date": "2018-02-08T00:00:00"}, {"close": 895.829999999995, "date": "2018-02-08T00:00:00"}, {"close": 899.6499999999951, "date": "2018-02-08T00:00:00"}, {"close": 905.199999999995, "date": "2018-02-07T00:00:00"}, {"close": 905.949999999995, "date": "2018-02-07T00:00:00"}, {"close": 906.6499999999951, "date": "2018-02-07T00:00:00"}, {"close": 907.3499999999951, "date": "2018-02-07T00:00:00"}, {"close": 1247.3499999999951, "date": "2018-02-07T00:00:00"}, {"close": 1254.199999999995, "date": "2018-02-07T00:00:00"}, {"close": 1263.0899999999951, "date": "2018-02-06T00:00:00"}, {"close": 1271.5899999999951, "date": "2018-02-05T00:00:00"}, {"close": 1237.8699999999951, "date": "2018-01-31T00:00:00"}, {"close": 1229.8699999999951, "date": "2018-01-31T00:00:00"}, {"close": 1222.919999999995, "date": "2018-01-31T00:00:00"}, {"close": 1300.709999999995, "date": "2018-01-31T00:00:00"}, {"close": 1308.709999999995, "date": "2018-01-30T00:00:00"}, {"close": 1376.709999999995, "date": "2018-01-29T00:00:00"}, {"close": 1420.809999999995, "date": "2018-01-29T00:00:00"}, {"close": 670.409999999995, "date": "2018-01-25T00:00:00"}, {"close": 630.409999999995, "date": "2018-01-23T00:00:00"}, {"close": 696.389999999995, "date": "2018-01-17T00:00:00"}, {"close": 740.389999999995, "date": "2018-01-15T00:00:00"}, {"close": 775.389999999995, "date": "2018-01-15T00:00:00"}, {"close": 4075.389999999995, "date": "2018-01-12T00:00:00"}, {"close": 775.3899999999949, "date": "2018-01-10T00:00:00"}, {"close": 783.3799999999949, "date": "2018-01-10T00:00:00"}, {"close": 790.3299999999949, "date": "2018-01-09T00:00:00"}, {"close": 1130.329999999995, "date": "2018-01-08T00:00:00"}, {"close": 1123.3799999999949, "date": "2018-01-08T00:00:00"}, {"close": 1513.3799999999949, "date": "2018-01-08T00:00:00"}]

  // Scale the range of the data
  x.domain(d3.extent(data, function(d) { return parseTime(d.date); }));
  y.domain(d3.extent(data, function(d) { return d.close; }));

  // Add the valueline path.
  svg.append("path")
      .data([data])
      .attr("class", "line")
      .attr("d", valueline);

  // add the dots with tooltips
  svg.selectAll("dot")
     .data(data)
   .enter().append("circle")
     .attr("r", 2)
     .attr("cx", function(d) { return x(parseTime(d.date)); })
     .attr("cy", function(d) { return y(d.close); })
     .on("mouseover", function(d) {
       div.transition()
         .duration(200)
         .style("opacity", .9);
       div.html(parseTime(d.date).toString().substring(4,15) + "<br/>" + "£"+d.close.toFixed(2))
         .style("left", (d3.event.pageX) + "px")
         .style("top", (d3.event.pageY - 28) + "px");
       })
     .on("mouseout", function(d) {
       div.transition()
         .duration(500)
         .style("opacity", 0);
       });
	  
	  
  // Add the X Axis
  svg.append("g")
      .attr("class", "axis")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x).ticks(10))
      .selectAll("text")	
        .style("text-anchor", "end")
        .attr("dx", "-.8em")
        .attr("dy", ".15em")
        .attr("transform", "rotate(-65)");

  // Add the Y Axis
  svg.append("g")
      .call(d3.axisLeft(y));

</script>
</body>
</html>